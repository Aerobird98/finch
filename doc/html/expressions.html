<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<title>The Finch Programming Language: Expressions</title>
<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Inconsolata|Reenie+Beanie">
<link rel="stylesheet" type="text/css" href="styles.css" />
<script src="jquery-1.3.2.min.js" type="text/javascript"></script>
</head>
<body id="top">
<div class="content">
<h1><a href="index.html">Finch:</a> Expressions</h1>
<p>Expressions are the heart of any programming language&mdash; they're the building blocks for programs. Finch, like many functional languages but unlike most C-derived languages, does have statements, only expressions. We'll go over the different kinds of expressions Finch supports, starting from the bottom up.</p>
<h2>Comments</h2>
<p>OK, technically comments aren't expressions, but here is as good a place as any to describe them. Comments start with a single quote and end at the end of the line:</p>
<div class="codehilite"><pre><span class="c1">&#39; this is a comment</span>
</pre></div>


<h2>Literals</h2>
<p>Finch currently supports two atomic types: numbers and strings. Numbers are double-precision floating point values, and strings are text. Finch doesn't support a lot of fancy formats for them yet, just the basic:</p>
<div class="codehilite"><pre><span class="mi">0</span>
<span class="mi">1234</span>
<span class="mf">-432.1</span>
<span class="s">&quot;a string&quot;</span>
<span class="s">&quot;another string&quot;</span>
<span class="s">&quot;supported escapes: </span><span class="se">\&quot;</span><span class="s"> </span><span class="se">\n</span><span class="s"> </span><span class="se">\\</span><span class="s">&quot;</span>
</pre></div>


<h2>Variables</h2>
<p>Variable names in Finch are more flexible than in most other languages. They must start with a letter or an underscore, but pretty much everything is fair game after that. All of these are valid variable names:</p>
<div class="codehilite"><pre><span class="n">foo</span>
<span class="vg">Bar</span>
<span class="n">this2</span>
<span class="n">andPunctuation@#$%^&amp;*-_=+&lt;&gt;/?!</span>
</pre></div>


<p>There are three kinds of variables in Finch: global, local, and object. Global variables start with a capital letter. Local variables start with a lowercase letter, and object variables start with an underscore:</p>
<div class="codehilite"><pre><span class="vg">Global</span>
<span class="n">local</span>
<span class="vi">_object</span>
</pre></div>


<h2>Messages</h2>
<p>What other languages refer to as "calling a function" or "invoking a method", Finch calls "sending a message." Sending a message to an object (and remember, everything is an object) invokes a method on that object. There are three flavors of message send in Finch: unary, operator, and keyword.</p>
<h3>Unary Messages</h3>
<p>An unary message has a name, but no arguments beyond the object receiving the message. You can send an unary message to an object by following the object with the name of the message:</p>
<div class="codehilite"><pre><span class="c1">&#39; send the &#39;length&#39; message to the string &quot;hi there&quot;</span>
<span class="s">&quot;hi there&quot;</span> <span class="n">length</span>
</pre></div>


<h3>Operators</h3>
<p>Any sequence of punctuation characters can be used to define an operator, but don't go too crazy. The goal here is not to make your code look like comic strip profanity:</p>
<div class="codehilite"><pre><span class="c1">&#39; valid punctuation characters</span>
<span class="ow">+</span> <span class="ow">-</span> <span class="ow">!</span> <span class="ow">@</span> <span class="ow">#</span> <span class="ow">$</span> <span class="ow">%</span> <span class="ow">^</span> <span class="ow">&amp;</span> <span class="ow">*</span> <span class="ow">=</span> <span class="ow">&lt;</span> <span class="ow">&gt;</span> <span class="ow">/</span> <span class="ow">?</span> <span class="ow">~</span>

<span class="c1">&#39; can also be combined</span>
<span class="ow">--</span> <span class="ow">?!</span> <span class="ow">@*#%&amp;#$@&amp;!</span>
</pre></div>


<p>Finch has no built-in operators. An expression like:</p>
<div class="codehilite"><pre><span class="n">a</span> <span class="ow">+</span> <span class="n">b</span>
</pre></div>


<p>Means "send a <code>+</code> message to <code>a</code>, passing in <code>b</code> as an argument." All operators have the same precedence and associate from left to right. This is unlike most other languages with hard-coded precedence levels. Parentheses are your friends here.</p>
<div class="codehilite"><pre><span class="mi">1</span> <span class="ow">+</span> <span class="mi">2</span> <span class="ow">*</span> <span class="mi">3</span>   <span class="c1">&#39; evaluates to 9 in Finch</span>
<span class="mi">1</span> <span class="ow">+</span> <span class="p">(</span><span class="mi">2</span> <span class="ow">*</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">&#39; evaluates to 6</span>
</pre></div>


<p>Because there are no built-in operators, there are no unary operators in Finch. To negate an expression, instead of an unary <code>-</code> operator, send it the unary <code>neg</code> message:</p>
<div class="codehilite"><pre><span class="c1">&#39; NOT valid</span>
<span class="ow">-</span> <span class="n">someVar</span>

<span class="c1">&#39; OK!</span>
<span class="n">someVar</span> <span class="n">neg</span>
</pre></div>


<h3>Keyword Messages</h3>
<p>We've covered messages that take zero arguments (unary) and one (operators). To pass more than one argument, you use keyword messages. A keyword is a name followed by a colon (<code>:</code>), or just a colon by itself. A keyword message is formed by alternating keywords and arguments. An example will help here:</p>
<div class="codehilite"><pre><span class="n">dictionary</span> <span class="k">addKey:</span> <span class="s">&quot;some key&quot;</span> <span class="k">value:</span> <span class="s">&quot;the value&quot;</span>
</pre></div>


<p>This sends the <code>addKey:value:</code> message to the <code>dictionary</code> object, passing in "some key" and "the value" as arguments. You can chain as many keywords as you want in a single message (within reason):</p>
<div class="codehilite"><pre><span class="n">chef</span> <span class="k">prepareSoup:</span> <span class="n">tomato</span> <span class="k">appetizer:</span> <span class="n">calimari</span> <span class="k">entree:</span> <span class="n">veal</span> <span class="k">dessert:</span> <span class="n">cake</span>
</pre></div>


<h2>Sequences</h2>
<p>Multiple expressions can be sequenced together into a single expression by separating them with newlines. This code:</p>
<div class="codehilite"><pre><span class="k">write:</span> <span class="s">&quot;hi&quot;</span>
<span class="k">write:</span> <span class="s">&quot;bye&quot;</span>
</pre></div>


<p>forms a single expression that writes two things. A sequence returns the value of the last expression. The returns of the other expressions are discarded.</p>
<p>If you want to sequence multiple expressions in a single line, you can also use a semicolon (<code>;</code>) as a separator.</p><p class="footer">Last modified on June 29, 2010</p>
</div>
</body>
</html>